syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.apexnova.services.post";
option java_outer_classname = "PostProto";

package post;

// The post service definition.
service Post {
  // Sends a post
  rpc CreatePost (PostRequest) returns (PostReply) {}

  // Gets a post
  rpc GetPost (GetPostRequest) returns (PostReply) {}

  // Lists all posts
  rpc ListPosts (ListPostsRequest) returns (stream PostReply) {}

  // Deletes a post
  rpc DeletePost (DeletePostRequest) returns (DeletePostReply) {}
}

// The request message for creating a post.
message PostRequest {
  string title = 1;
  string content = 2;
}

// The request message for getting a post.
message GetPostRequest {
  string postId = 1;
}

// The request message for listing all posts.
message ListPostsRequest {
}

// The request message for deleting a post.
message DeletePostRequest {
  string postId = 1;
}

// The response message for a post.
message PostReply {
  string postId = 1;
  string title = 2;
  string content = 3;
}

// The response message for deleting a post.
message DeletePostReply {
  string result = 1;
}